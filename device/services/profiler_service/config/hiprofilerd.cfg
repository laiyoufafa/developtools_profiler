{
    "services" : [{
            "name" : "hiprofilerd",
            "path" : ["/system/bin/hiprofilerd"],
            "sandbox" : 0,
            "once" : 1,
            "uid" : "hiview",
            "gid" : ["system", "log", "hiview", "readproc", "shell"],
            "socket" : [{
                "name" : "hiprofiler_unix_socket",
                "family" : "AF_UNIX",
                "type" : "SOCK_STREAM",
                "protocol" : "default",
                "permissions" : "0666",
                "uid" : "hiview",
                "gid" : "system",
                "option" : [
                    "SOCKET_OPTION_PASSCRED",
                    "SOCK_NONBLOCK",
                    "SOCK_CLOEXEC"
                ]
            }],
            "secon" : "u:r:hiprofilerd:s0",
            "start-mode" : "condition"
        }
    ],
    "jobs" : [{
            "name" : "param:security.perf_harden.test=1",
            "condition" : "security.perf_harden.test=1",
            "cmds" : [
                "start hiprofilerd",
                "sleep 1",
                "start hiprofiler_plugins",
                "sleep 1",
                "start hiprofiler_daemon"
            ]
        }, {
            "name" : "param:security.perf_harden.test=0",
            "condition" : "security.perf_harden.test=0",
            "cmds" : [
                "stop hiprofilerd",
                "stop hiprofiler_plugins",
                "stop hiprofiler_daemon"
            ]
        }
    ]
}
